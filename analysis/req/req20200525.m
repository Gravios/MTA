% req20200525
%    Tags: cluster managment, curating
%    Status: retired
%    Type: Analysis
%    Author: Justin Graboski
%    Final_Forms: NA
%    Project: MjgER2016: bhvfields
%    Description: update req20180123_remove_bad_units
%    New_methods: assign_bad_units.m, remove_bad_units.m
%


sessionListName = 'MjgER2016';
sessionList = get_session_list(sessionListName);
Trials  = af(@(t)  MTATrial.validate(t),   sessionList);



cluDrop = [ 1, 61;...
            1,128;...
            1,151;...
            2, 32;...
            2, 38;...
            2,108;...
            2,114;...
            3, 18;...
            3, 26;...
            3, 29;...
            3, 37;...
            3, 39;...
            3, 48;...
            3, 82;...            
            3,142;...
            3,164;...
            3,194;...
            3,215;...
            4,  6;... non specific
            4,  9;... low rate
            4, 27;... non specific
            4, 43;...
            4, 46;...
            4, 50;...
            4, 52;... low rate
            4, 58;... low rate messy
            4, 77;... low rate
            4, 78;... low rate
            4, 82;... low rate
            4, 91;... low rate
            4, 96;... low rate
            4,108;...
            4,128;...
            4,130;... Object cell?
            4,142;...
            4,173;...
            4,188;...
            5, 19;...
            5, 20;...
            5, 25;...
            5, 28;...
            5, 50;...
            5, 52;...
            5, 64;...
            5, 78;...
            5,107;...
            5,116;...
            5,117;...
            6, 22;...
            6, 50;...
            6, 75;...
            6, 96;...
            6, 99;...
            7, 20;...
            7, 79;...
            8, 35;...
            9,  7;...
            9,  8;...
            9, 38;...
            9, 40;...
            9, 41;...
           10, 12;...
           10, 14;...
           10, 16;...
           11,  6;...
           11,  9;...
           11, 13;...
           11, 23;...
           12,  4;...
           12,  5;...
           12, 12;...
           12, 30;...
           13,  2;...
           13, 25;...
           15,  1;...
           15, 29;...
           16,  4;...
           16,  6;...
           17, 11;...
           17, 26;...
           17, 45;...
           17, 47;...
           17, 57;...
           17, 95;...
           17,118;...
           18, 26;...
           18, 32;...
           18, 36;...
           18, 47;...
           18, 58;...
           19,  5;...
           19, 14;...
           19, 34;...
           19, 43;...
           19, 74;... grid
           19, 77;...
           19,155;...
           19,174;... inve
           19,178;...
           19,183;... inve
           19,190;...
         ...  20, 37;... grid new
         ...  20, 44;... grid new
           20, 64;...   
         ...  20, 89;...      new
         ...  20,128;...      new
           20,146;...
           20,167;...
         ...  20,179;...      new
         ...  20,181;...      new
           21, 20;...
           21, 29;...
           21, 30;...
           21, 53;...
           21, 58;...
           22, 27;...
           22, 29;...
           22, 64;...
           23,  8;...
           23, 11;...
           23, 19;...
           23, 39;...
           23, 44;...
           23, 49;...
          ];



for t = 1:numel(Trials)
    assign_bad_units(Trials{t},cluDrop(cluDrop(:,1)==t,2),true);
end    


